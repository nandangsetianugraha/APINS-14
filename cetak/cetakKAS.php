<?phpfunction TanggalIndo($tanggal){	$bulan = array ('Januari',				'Februari',				'Maret',				'April',				'Mei',				'Juni',				'Juli',				'Agustus',				'September',				'Oktober',				'November',				'Desember'			);	$split = explode('-', $tanggal);	return $split[2] . ' ' . $bulan[ (int)$split[1]-1 ] . ' ' . $split[0];};use setasign\Fpdi\Fpdi;require_once('fpdf/fpdf.php');require_once('fpdi2/autoload.php');include "../modul/qrcode/phpqrcode/qrlib.php";include '../function/db_connect.php';$idp=$_GET['pdid'];$rbl=$_GET['kelas'];$kelas=substr($rbl,0,1);
$sqls = "select * from siswa where id='$idp'";$querys = $connect->query($sqls);$siswa=$querys->fetch_assoc();$ids=$siswa['peserta_didik_id'];if($siswa['jk']==='P'){	$jk="Perempuan";}else{	$jk="Laki-laki";};// initiate FPDI$pdf = new Fpdi();// add a page$pdf->AddPage();// set the source fileif($kelas==1){	$pdf->setSourceFile('KPAS1.pdf');}elseif($kelas==2){	$pdf->setSourceFile('KPAS2.pdf');}elseif($kelas==3){	$pdf->setSourceFile('KPAS3.pdf');}elseif($kelas==4){	$pdf->setSourceFile('KPAS4.pdf');}elseif($kelas==5){	$pdf->setSourceFile('KPAS5.pdf');}elseif($kelas==6){	$pdf->setSourceFile('KPAS6.pdf');}else{	$pdf->setSourceFile('KTP.pdf');};// import page 1$tplIdx = $pdf->importPage(1);// use the imported page and place it at position 10,10 with a width of 100 mm$pdf->useTemplate($tplIdx,0,0,200);// now write some text above the imported page$pdf->SetFont('Helvetica','',10);//$pdf->SetTextColor(255, 0, 0);$pdf->SetFont('Helvetica','',8);//$pdf->SetTextColor(255, 0, 0);//NAMA PESERTAif(strlen($siswa['nama'])>26){	$pdf->SetXY(47, 28);	$pdf->MultiCell(48,3,$siswa['nama'],0,'L');	//$pdf->Write(0, substr($siswa['nama'],0,22));}else{	$pdf->SetXY(47, 31.5);	$pdf->Write(0, $siswa['nama']);}//NIS$pdf->SetXY(47, 36);$pdf->Write(0, $siswa['nisn']);//TEMPAT TANGGAL LAHIR$pdf->SetXY(47, 40.5);$pdf->Write(0, $siswa['tempat'].', '.TanggalIndo($siswa['tanggal']));//Nomor Pesertaif(empty($siswa['nisn'])){	$nopes='D0879'.substr($siswa['nis'],5,4);}else{	$nopes='D0879'.substr($siswa['nisn'],6,4);};$pdf->SetXY(47, 45);$pdf->Write(0, $nopes);//Ruangan$pdf->SetXY(47, 50);$pdf->Write(0, 'Kelas '.$rbl);$pdf->SetFont('Helvetica','',9);//Barcode//Buat QRCode Invoice$tempdir = "../modul/qrcode/temp/";if (!file_exists($tempdir)){	mkdir($tempdir);};if(empty($siswa['nisn'])){	$isi_teks = $siswa['nis'];}else{	$isi_teks = $siswa['nisn'];};//$isi_teks = $siswa['peserta_didik_id'];$namafile = $siswa['peserta_didik_id'].".png";$quality = 'H'; //ada 4 pilihan, L (Low), M(Medium), Q(Good), H(High)$ukuran = 5; //batasan 1 paling kecil, 10 paling besar$padding = 2;QRCode::png($isi_teks,$tempdir.$namafile,$quality,$ukuran,$padding);$gbr='../modul/qrcode/temp/'.$siswa['peserta_didik_id'].'.png';$pdf->SetXY(64, 58);$pdf->Image($gbr,10,52);//Titimangsan Kartu$pdf->SetXY(64, 58);$pdf->Write(0, '3 Desember 2021');$pdf->Output('F','cetakKAS.pdf');